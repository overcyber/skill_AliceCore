<!--
	This is almost a copy of the official Nore-red MQTT out node found on node-red repository.
	It's been fitted to our needs of simplicity for everyday use and repackaged
-->


<script type="text/javascript">
	RED.nodes.registerType('say', {
		category: 'Project Alice',
		color: '#3FADB5',
		defaults: {
			broker: {
				type: 'aliceMqtt',
				required: true
			},
			say: {
				value: '',
				required: false
			},
			client: {
				value: ''
			}
		},
		inputs: 1,
		outputs: 0,
		icon: 'bridge.svg',
		label: function () {
			return this.name;
		}
	})
</script>

<script type="text/html" data-help-name="say">
	<p>
		Makes Alice speak the given text
	</p>
	<h3>Inputs</h3>
	<dl class="message-properties">
		<dt>MQTT
			<span class="property-type">Configured Settings</span>
		</dt>
		<dd> This is the MQTT client that will be used.</dd>
		<dt>Say
			<span class="property-type">string</span>
		</dt>
		<dd> This is the message you want Alice to speak.
			<ol>
				<li><b>- Leaving this field blank</b> will allow you to send the <b>say node</b> a
					<code>msg.payload</code> from another node
				</li>
				<li><b>- Text entered in this field</b> will overide any other incomming <code>msg.payload</code>
				</li>
			</ol>
		</dd>
		<dt class="optional">Client UID <span class="property-type">string</span></dt>
		<dd> The UID of the device you want to speak. Can be left blank to use the default device</dd>
	</dl>

</script>

<script type="text/html" data-template-name="say">
	<div class="form-row">
		<label for="node-input-broker"><i class="fa fa-bookmark fa-fw"></i> <span
				data-i18n="say.broker"></span>Broker</label>
		<input type="text" id="node-input-broker">
	</div>
	<div class="form-row">
		<div class="form-row">
			<label for="node-input-say"><i class="fa fa-tasks fa-fw"></i> <span data-i18n="say.say"></span></label>
			<input type="text" id="node-input-say">
		</div>
	</div>
	<div class="form-row">
		<div class="form-row">
			<label for="node-input-client"><i class="fa fa-map-marker fa-fw"></i> <span
					data-i18n="say.client"></span></label>
			<input type="text" id="node-input-client">
		</div>
	</div>
</script>
